I"¥<p>ç»è¿‡äº†å‰é¢10ç« æ¼«é•¿çš„æ—…ç¨‹ï¼Œæˆ‘ä»¬ç»ˆäºè¦è¾¾æˆæˆ‘ä»¬çš„ç›®æ ‡äº†ï¼š<strong>åœ¨ä¸€ä¸ªå®Œå…¨ç”±è‡ªå·±å®ç°çš„è®¡ç®—æœºå¹³å°ä¸Šè¿è¡Œä¸€ä¸ªå°æ¸¸æˆ</strong>ã€‚è¿™ä¸ªå°æ¸¸æˆè¦ç»è¿‡ç¼–å†™ã€ç¼–è¯‘ã€è½¬æ¢è™šæ‹Ÿæœºå­—èŠ‚ç ã€æ±‡ç¼–ã€ç”Ÿæˆæœºå™¨ä»£ç ç­‰æ­¥éª¤ï¼Œæœ€ç»ˆè¿è¡Œåœ¨è‡ªå·±æ­å»ºçš„è™šæ‹Ÿè®¡ç®—æœºä¸Šã€‚åœ¨æ¸¸æˆçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤éƒ½æ˜¯æˆ‘ä»¬äº²æ‰‹ç¼–å†™ï¼Œæ¯ä¸€ä¸ªç»†èŠ‚æˆ‘ä»¬éƒ½äº†å¦‚æŒ‡æŒï¼Œæ˜¯æˆ‘ä»¬å®Œå®Œå…¨å…¨åœ°åˆ›é€ äº†å®ƒï¼ˆè™½ç„¶éœ€è¦åŸºäºä¸€ä¸ªç¡¬ä»¶è™šæ‹Ÿæœºï¼‰ï¼Œè¿™ç¡®å®æ˜¯ä¸€ä»¶éå¸¸æœ‰æ„æ€çš„äº‹æƒ…ã€‚</p>

<h3 id="éª‘æ‰‹å¿«è·‘">éª‘æ‰‹å¿«è·‘</h3>

<p>æˆ‘è¿™é‡Œç¼–å†™äº†ä¸€ä¸ªéå¸¸ç®€å•çš„å°æ¸¸æˆï¼šéª‘æ‰‹å¿«è·‘ã€‚åœ¨å±å¹•ä¸Šä¼šä½ç½®éšæœºåœ°å‡ºç°<strong>é£Ÿç‰©</strong>å’Œ<strong>æˆ¿å­</strong>ï¼Œæˆ‘ä»¬æ‰®æ¼”éª‘æ‰‹ï¼Œé€šè¿‡ä¸Šä¸‹å·¦å³é”®æ§åˆ¶éª‘æ‰‹çš„è¡ŒåŠ¨ã€‚éª‘æ‰‹éœ€è¦å…ˆå–åˆ°é£Ÿç‰©è£…åˆ°è½¦ä¸Šï¼Œç„¶åè¿é€åˆ°æˆ¿å­å¤„å¹¶é¢†å–å¥–åŠ±é‡‘ï¼Œå®Œæˆé…é€åéª‘æ‰‹åˆå¯ä»¥ç»§ç»­é…é€ä¸‹ä¸€å•ï¼Œå½“å¥–åŠ±é‡‘è¾¾åˆ°ä¸€å®šæ•°é¢åæ¸¸æˆé€šå…³ğŸ™„ã€‚</p>

<center><img src="https://tva1.sinaimg.cn/large/00831rSTly1gd1tl5zrv9j30tc0gga9v.jpg" width="500" /></center>
<center><figcaption>éª‘æ‰‹å–è´§ä¸­</figcaption></center>

<center><img src="https://tva1.sinaimg.cn/large/00831rSTly1gd1tn7ycv5j30tg0gkglf.jpg" width="500" /></center>
<center><figcaption>éª‘æ‰‹å–åˆ°è´§</figcaption></center>

<center><img src="https://tva1.sinaimg.cn/large/00831rSTly1gd1tplj00dj30tg0gsglf.jpg" width="500" /></center>
<center><figcaption>éª‘æ‰‹é…é€ä¸­</figcaption></center>

<center><img src="https://tva1.sinaimg.cn/large/00831rSTly1gd1tv6zcbrj30tg0guglf.jpg" width="500" /></center>
<center><figcaption>é…é€ä¸‹ä¸€å•</figcaption></center>

<center><img src="https://tva1.sinaimg.cn/large/00831rSTly1gd1to4ylhsj30tc0giq2r.jpg" width="500" /></center>
<center><figcaption>å¥–åŠ±é‡‘è¾¾æ ‡ï¼Œé€šå…³</figcaption></center>

<h3 id="å®ç°">å®ç°</h3>

<p>main() å…ˆåˆ›å»ºæ¸¸æˆå®ä¾‹ï¼Œç„¶åè¿è¡Œæ¸¸æˆï¼Œæ¸¸æˆç»“æŸåè°ƒç”¨ dispose() å›æ”¶å†…å­˜</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="n">function</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">var</span> <span class="nc">RunnerGame</span> <span class="n">game</span><span class="o">;</span>
        <span class="k">do</span> <span class="nc">RunnerGame</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
        <span class="n">let</span> <span class="n">game</span> <span class="o">=</span> <span class="nc">RunnerGame</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

        <span class="k">do</span> <span class="n">game</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
        <span class="k">do</span> <span class="n">game</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>

        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>RunnerGameç±»æ˜¯æ¸¸æˆçš„æ ¸å¿ƒæ§åˆ¶ç±»ã€‚è´Ÿè´£åˆ›å»ºéª‘æ‰‹ã€é£Ÿç‰©ã€æˆ¿å­ç­‰å¯¹è±¡ï¼›ç„¶åç›‘å¬ç”¨æˆ·é”®ç›˜è¾“å…¥ã€æ§åˆ¶æ¸¸æˆé€»è¾‘ã€è°ƒæ•´æ¸¸æˆçŠ¶æ€ã€æ§åˆ¶å±å¹•åˆ·æ–°ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">RunnerGame</span> <span class="o">{</span>

    <span class="kd">static</span> <span class="nc">RunnerGame</span> <span class="n">instance</span><span class="o">;</span>    <span class="c1">// æ¸¸æˆå•ä¾‹</span>

    <span class="n">field</span>  <span class="nc">Runner</span>     <span class="n">runner</span><span class="o">;</span>             <span class="c1">// éª‘æ‰‹</span>
    <span class="n">field</span>  <span class="nc">Food</span>       <span class="n">food</span><span class="o">;</span>               <span class="c1">// é£Ÿç‰©</span>
    <span class="n">field</span>  <span class="nc">House</span>      <span class="n">house</span><span class="o">;</span>              <span class="c1">// é…é€åœ°ç‚¹</span>
    
    <span class="n">field</span>  <span class="kt">int</span>        <span class="n">runnerX</span><span class="o">,</span> <span class="n">runnerY</span><span class="o">;</span>   <span class="c1">// éª‘æ‰‹å½“å‰ä½ç½®</span>
    <span class="n">field</span>  <span class="kt">int</span>        <span class="n">foodX</span><span class="o">,</span> <span class="n">foodY</span><span class="o">;</span>       <span class="c1">// é£Ÿç‰©å½“å‰ä½ç½®</span>
    <span class="n">field</span>  <span class="kt">int</span>        <span class="n">houseX</span><span class="o">,</span> <span class="n">houseY</span><span class="o">;</span>     <span class="c1">// æˆ¿å±‹å½“å‰ä½ç½®</span>
    <span class="n">field</span>  <span class="kt">boolean</span>    <span class="n">picked</span><span class="o">;</span>             <span class="c1">// æ˜¯å¦å–åˆ°è´§</span>
    <span class="n">field</span>  <span class="kt">int</span>        <span class="n">score</span><span class="o">;</span>              <span class="c1">// æŒ£åˆ°çš„é’±</span>

    <span class="n">field</span>  <span class="kt">boolean</span>    <span class="n">exit</span><span class="o">;</span>               <span class="c1">// æ¸¸æˆç»“æŸ</span>

    <span class="n">constructor</span> <span class="nc">RunnerGame</span> <span class="nf">new</span><span class="o">()</span> <span class="o">{</span>
	    <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">clearScreen</span><span class="o">();</span>

	    <span class="n">let</span> <span class="n">runnerX</span> <span class="o">=</span> <span class="mi">230</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">runnerY</span> <span class="o">=</span> <span class="mi">120</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">foodX</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">foodY</span> <span class="o">=</span> <span class="mi">200</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">houseX</span> <span class="o">=</span> <span class="mi">400</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">houseY</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>

	    <span class="n">let</span> <span class="n">runner</span> <span class="o">=</span> <span class="nc">Runner</span><span class="o">.</span><span class="na">new</span><span class="o">(</span><span class="n">runnerX</span><span class="o">,</span> <span class="n">runnerY</span><span class="o">);</span>
	    <span class="n">let</span> <span class="n">house</span> <span class="o">=</span> <span class="nc">House</span><span class="o">.</span><span class="na">new</span><span class="o">(</span><span class="n">houseX</span><span class="o">,</span> <span class="n">houseY</span><span class="o">);</span>
	    <span class="n">let</span> <span class="n">food</span> <span class="o">=</span> <span class="nc">Food</span><span class="o">.</span><span class="na">new</span><span class="o">(</span><span class="n">foodX</span><span class="o">,</span> <span class="n">foodY</span><span class="o">);</span>

	    <span class="n">let</span> <span class="n">picked</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	    <span class="n">let</span> <span class="n">exit</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

	    <span class="c1">// åº•éƒ¨åˆ†æ•°åˆ†æ•°è®°å½•åŒº</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawRectangle</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">238</span><span class="o">,</span> <span class="mi">511</span><span class="o">,</span> <span class="mi">240</span><span class="o">);</span>
	    <span class="k">do</span> <span class="nc">Output</span><span class="o">.</span><span class="na">moveCursor</span><span class="o">(</span><span class="mi">22</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span>
	    <span class="k">do</span> <span class="nc">Output</span><span class="o">.</span><span class="na">printString</span><span class="o">(</span><span class="s">"money: 0"</span><span class="o">);</span>
	
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">dispose</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">do</span> <span class="n">runner</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
	    <span class="k">do</span> <span class="n">food</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
	    <span class="k">do</span> <span class="n">house</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
        <span class="k">do</span> <span class="nc">Memory</span><span class="o">.</span><span class="na">deAlloc</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">function</span> <span class="kt">void</span> <span class="nf">newInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">let</span> <span class="n">instance</span> <span class="o">=</span> <span class="nc">RunnerGame</span><span class="o">.</span><span class="na">new</span><span class="o">();</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="n">function</span> <span class="nc">RunnerGame</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// å¼€å§‹æ¸¸æˆã€‚ç”¨é”®ç›˜æ§åˆ¶éª‘æ‰‹ä½ç½®ï¼Œå…ˆå–è´§ï¼Œå†é€è´§ï¼Œç„¶åè·å¾—å¥–åŠ±</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">var</span> <span class="kt">char</span> <span class="n">key</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(~</span><span class="n">exit</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// ç­‰å¾…æŒ‰ä¸‹æŒ‰é”®</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">key</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">&amp;</span> <span class="o">(~</span><span class="n">exit</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">let</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">Keyboard</span><span class="o">.</span><span class="na">keyPressed</span><span class="o">();</span>
                <span class="k">do</span> <span class="nc">Sys</span><span class="o">.</span><span class="na">wait</span><span class="o">(</span><span class="mi">50</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="k">do</span> <span class="nf">moveRunner</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>

            <span class="c1">// ç­‰å¾…æŒ‰é”®æ¾å¼€</span>
            <span class="k">while</span> <span class="o">((~(</span><span class="n">key</span> <span class="o">=</span> <span class="mi">0</span><span class="o">))</span> <span class="o">&amp;</span> <span class="o">(~</span><span class="n">exit</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">let</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">Keyboard</span><span class="o">.</span><span class="na">keyPressed</span><span class="o">();</span>
                <span class="k">do</span> <span class="nc">Sys</span><span class="o">.</span><span class="na">wait</span><span class="o">(</span><span class="mi">50</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="k">do</span> <span class="nf">updateStatus</span><span class="o">();</span>
            <span class="k">do</span> <span class="nf">reDraw</span><span class="o">();</span>
        <span class="o">}</span>

	    <span class="k">if</span> <span class="o">(</span><span class="n">exit</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">do</span> <span class="nc">Output</span><span class="o">.</span><span class="na">moveCursor</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">23</span><span class="o">);</span>
            <span class="k">do</span> <span class="nc">Output</span><span class="o">.</span><span class="na">printString</span><span class="o">(</span><span class="s">"Congratulations!"</span><span class="o">);</span>
	    <span class="o">}</span>
            
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">moveRunner</span><span class="o">(</span><span class="kt">int</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// å·¦ = 130ï¼Œä¸Š = 131ï¼Œå³ = 132ï¼Œä¸‹ = 133</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">=</span> <span class="mi">130</span><span class="o">)</span> <span class="o">{</span> 
        	<span class="n">let</span> <span class="n">runnerX</span> <span class="o">=</span> <span class="n">runnerX</span> <span class="o">-</span> <span class="mi">20</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">=</span> <span class="mi">131</span><span class="o">)</span> <span class="o">{</span> 
            	<span class="n">let</span> <span class="n">runnerY</span> <span class="o">=</span> <span class="n">runnerY</span> <span class="o">-</span> <span class="mi">20</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">=</span> <span class="mi">132</span><span class="o">)</span> <span class="o">{</span>
                	<span class="n">let</span> <span class="n">runnerX</span> <span class="o">=</span> <span class="n">runnerX</span> <span class="o">+</span> <span class="mi">20</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                	<span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">=</span> <span class="mi">133</span><span class="o">)</span> <span class="o">{</span>
                		<span class="n">let</span> <span class="n">runnerY</span> <span class="o">=</span> <span class="n">runnerY</span> <span class="o">+</span> <span class="mi">20</span><span class="o">;</span>
                	<span class="o">}</span>
                <span class="o">}</span>
	        <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// é˜²æ­¢è¶Šç•Œ</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">runnerX</span> <span class="o">&gt;</span> <span class="mi">490</span><span class="o">)</span> <span class="o">{</span>
        	<span class="n">let</span> <span class="n">runnerX</span> <span class="o">=</span> <span class="mi">490</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">runnerX</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        	<span class="n">let</span> <span class="n">runnerX</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">runnerY</span> <span class="o">&gt;</span> <span class="mi">236</span><span class="o">)</span> <span class="o">{</span>
        	<span class="n">let</span> <span class="n">runnerY</span> <span class="o">=</span> <span class="mi">236</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">runnerY</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        	<span class="n">let</span> <span class="n">runnerY</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">do</span> <span class="n">runner</span><span class="o">.</span><span class="na">moveTo</span><span class="o">(</span><span class="n">runnerX</span><span class="o">,</span> <span class="n">runnerY</span><span class="o">);</span>

        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">updateStatus</span><span class="o">()</span> <span class="o">{</span>
    	<span class="c1">// å–åˆ°é£Ÿç‰©</span>
    	<span class="k">if</span> <span class="o">((</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">foodX</span> <span class="o">-</span> <span class="n">runnerX</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="o">)</span> <span class="o">&amp;</span> <span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">foodY</span> <span class="o">-</span> <span class="n">runnerY</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="o">))</span> <span class="o">{</span>
    		<span class="n">let</span> <span class="n">picked</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    		<span class="k">do</span> <span class="n">runner</span><span class="o">.</span><span class="na">setPicked</span><span class="o">(</span><span class="n">picked</span><span class="o">);</span>
    	<span class="o">}</span>

    	<span class="c1">// é€åˆ°é£Ÿç‰©</span>
    	<span class="k">if</span> <span class="o">(</span><span class="n">picked</span> <span class="o">&amp;</span> <span class="o">((</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">houseX</span> <span class="o">-</span> <span class="n">runnerX</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="o">)</span> <span class="o">&amp;</span> <span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">houseY</span> <span class="o">-</span> <span class="n">runnerY</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="o">)))</span> <span class="o">{</span>
    		<span class="n">let</span> <span class="n">score</span> <span class="o">=</span> <span class="n">score</span> <span class="o">+</span> <span class="mi">30</span><span class="o">;</span>
    		<span class="k">if</span> <span class="o">(</span><span class="n">score</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="o">)</span> <span class="o">{</span>
    			<span class="n">let</span> <span class="n">exit</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    		<span class="o">}</span>

    		<span class="n">let</span> <span class="n">picked</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    		<span class="k">do</span> <span class="n">runner</span><span class="o">.</span><span class="na">setPicked</span><span class="o">(</span><span class="n">picked</span><span class="o">);</span>

    		<span class="k">do</span> <span class="nf">newRound</span><span class="o">();</span>
    	<span class="o">}</span>

    	<span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// å®Œæˆä¸€æ¬¡é…é€ï¼Œæ›´æ–°é£Ÿç‰©å’Œæˆ¿å±‹çš„ä½ç½®</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">newRound</span><span class="o">()</span> <span class="o">{</span>
    	<span class="c1">// æ›´æ–°ä½ç½®</span>
    	<span class="n">let</span> <span class="n">foodX</span> <span class="o">=</span> <span class="n">mod</span><span class="o">(</span><span class="n">foodX</span> <span class="o">+</span> <span class="n">houseX</span> <span class="o">,</span> <span class="mi">490</span><span class="o">);</span>
    	<span class="n">let</span> <span class="n">foodY</span> <span class="o">=</span> <span class="n">mod</span><span class="o">(</span><span class="n">foodY</span> <span class="o">+</span> <span class="n">houseY</span> <span class="o">,</span> <span class="mi">236</span><span class="o">);</span>
    	<span class="n">let</span> <span class="n">houseX</span> <span class="o">=</span> <span class="n">mod</span><span class="o">(</span><span class="n">foodY</span> <span class="o">+</span> <span class="n">houseX</span> <span class="o">,</span> <span class="mi">490</span><span class="o">);</span>
    	<span class="n">let</span> <span class="n">houseY</span> <span class="o">=</span> <span class="n">mod</span><span class="o">(</span><span class="n">houseX</span> <span class="o">+</span> <span class="n">foodY</span> <span class="o">,</span> <span class="mi">236</span><span class="o">);</span>

    	<span class="k">do</span> <span class="n">food</span><span class="o">.</span><span class="na">moveTo</span><span class="o">(</span><span class="n">foodX</span><span class="o">,</span> <span class="n">foodY</span><span class="o">);</span>
    	<span class="k">do</span> <span class="n">house</span><span class="o">.</span><span class="na">moveTo</span><span class="o">(</span><span class="n">houseX</span><span class="o">,</span> <span class="n">houseY</span><span class="o">);</span>

    	<span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// é‡æ–°ç»˜åˆ¶</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">reDraw</span><span class="o">()</span> <span class="o">{</span>
    	<span class="k">do</span> <span class="n">runner</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    	<span class="k">do</span> <span class="n">house</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    	<span class="k">if</span> <span class="o">(</span><span class="n">picked</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">do</span> <span class="n">food</span><span class="o">.</span><span class="na">hide</span><span class="o">();</span>    		
    	<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">do</span> <span class="n">food</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>   		
    	<span class="o">}</span>

    	<span class="k">do</span> <span class="nc">Output</span><span class="o">.</span><span class="na">moveCursor</span><span class="o">(</span><span class="mi">22</span><span class="o">,</span><span class="mi">7</span><span class="o">);</span>
        <span class="k">do</span> <span class="nc">Output</span><span class="o">.</span><span class="na">printInt</span><span class="o">(</span><span class="n">score</span><span class="o">);</span>

        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// è¡¥å……ä¸€ä¸ªå–æ¨¡çš„æ–¹æ³•</span>
    <span class="n">method</span> <span class="kt">int</span> <span class="nf">mod</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">var</span> <span class="kt">int</span> <span class="n">q</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">q</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">divide</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="o">(</span><span class="n">q</span><span class="o">*</span><span class="n">y</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Runnerï¼ŒHouseï¼ŒFoodç±»è´Ÿè´£è¡¨ç¤ºä¸ªå­—çš„å¯¹è±¡ï¼Œç»´æŠ¤å¯¹è±¡ä½ç½®ä¿¡æ¯ï¼ŒçŠ¶æ€ä¿¡æ¯ï¼Œå¹¶è´Ÿè´£ç»˜åˆ¶è‡ªå·±çš„å›¾å½¢ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Runner</span> <span class="o">{</span>

    <span class="n">field</span> <span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>           <span class="c1">// éª‘æ‰‹ä½ç½®</span>
    <span class="n">field</span> <span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">;</span>  <span class="c1">// éª‘æ‰‹å®½é«˜ 20*20</span>
    <span class="n">field</span> <span class="n">boolen</span> <span class="n">picked</span><span class="o">;</span>          <span class="c1">// æ˜¯å¦å·²å–è´§</span>

    <span class="c1">// æ–°åˆ›å»ºä¸€ä¸ªéª‘æ‰‹</span>
    <span class="n">constructor</span> <span class="nc">Runner</span> <span class="nf">new</span><span class="o">(</span><span class="kt">int</span> <span class="nc">Ax</span><span class="o">,</span> <span class="kt">int</span> <span class="nc">Ay</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nc">Ax</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nc">Ay</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">picked</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

        <span class="k">do</span> <span class="nf">show</span><span class="o">();</span>

        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">dispose</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">do</span> <span class="nc">Memory</span><span class="o">.</span><span class="na">deAlloc</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// åœ¨screenä¸Šå±•ç¤ºéª‘æ‰‹</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="k">do</span> <span class="nf">draw</span><span class="o">();</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æŠ¹æ‰å½“å‰åœ¨screenä¸Šå±•ç¤ºçš„éª‘æ‰‹</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">hide</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="k">do</span> <span class="nf">draw</span><span class="o">();</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/** ç»˜åˆ¶æˆ¿å±‹ */</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawRectangle</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">9</span><span class="o">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">19</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">10</span><span class="o">);</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawCircle</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span><span class="o">,</span>  <span class="n">y</span> <span class="o">+</span> <span class="mi">15</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawCircle</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">15</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">15</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">15</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">9</span><span class="o">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">15</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">4</span><span class="o">);</span>
        <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">11</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">4</span><span class="o">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">19</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">4</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">picked</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">do</span> <span class="nc">Screen</span><span class="o">.</span><span class="na">drawCircle</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">setPicked</span><span class="o">(</span><span class="kt">boolean</span> <span class="nc">Apicked</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">let</span> <span class="n">picked</span> <span class="o">=</span> <span class="nc">Apicked</span><span class="o">;</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">moveTo</span><span class="o">(</span><span class="kt">int</span> <span class="nc">Ax</span><span class="o">,</span> <span class="kt">int</span> <span class="nc">Ay</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">do</span> <span class="nf">hide</span><span class="o">();</span>  <span class="c1">//å…ˆæŠ¹æ‰å½“å‰éª‘æ‰‹</span>

        <span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nc">Ax</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nc">Ay</span><span class="o">;</span>
        <span class="k">do</span> <span class="nf">draw</span><span class="o">();</span>   <span class="c1">// é‡æ–°ç”»éª‘æ‰‹</span>

        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Food</span> <span class="o">{</span>

    <span class="n">field</span> <span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>           <span class="c1">// é£Ÿç‰©ä½ç½®</span>
    <span class="n">field</span> <span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">;</span>  <span class="c1">// é£Ÿç‰©å®½é«˜ 15*15</span>

    <span class="c1">// æ–°åˆ›å»ºä¸€ä¸ªé£Ÿç‰©</span>
    <span class="n">constructor</span> <span class="nc">Food</span> <span class="nf">new</span><span class="o">(</span><span class="kt">int</span> <span class="nc">Ax</span><span class="o">,</span> <span class="kt">int</span> <span class="nc">Ay</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nc">Ax</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nc">Ay</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span>

        <span class="k">do</span> <span class="nf">show</span><span class="o">();</span>

        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">dispose</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="c1">// åœ¨screenä¸Šå±•ç¤ºé£Ÿç‰©</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="c1">// æŠ¹æ‰å½“å‰åœ¨screenä¸Šå±•ç¤ºçš„é£Ÿç‰©</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">hide</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="cm">/** ç»˜åˆ¶é£Ÿç‰© */</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">moveTo</span><span class="o">(</span><span class="kt">int</span> <span class="nc">Ax</span><span class="o">,</span> <span class="kt">int</span> <span class="nc">Ay</span><span class="o">)</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">House</span> <span class="o">{</span>

    <span class="n">field</span> <span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">;</span>           <span class="c1">// æˆ¿å±‹ä½ç½®</span>
    <span class="n">field</span> <span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">;</span>  <span class="c1">// æˆ¿å±‹å®½é«˜ 20*20</span>

    <span class="c1">// æ–°åˆ›å»ºä¸€ä¸ªæˆ¿å±‹</span>
    <span class="n">constructor</span> <span class="nc">House</span> <span class="nf">new</span><span class="o">(</span><span class="kt">int</span> <span class="nc">Ax</span><span class="o">,</span> <span class="kt">int</span> <span class="nc">Ay</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nc">Ax</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nc">Ay</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
        <span class="n">let</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>

        <span class="k">do</span> <span class="nf">show</span><span class="o">();</span>

        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">dispose</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="c1">// åœ¨screenä¸Šå±•ç¤ºæˆ¿å±‹</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="c1">// æŠ¹æ‰å½“å‰åœ¨screenä¸Šå±•ç¤ºçš„æˆ¿å±‹</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">hide</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="cm">/** ç»˜åˆ¶æˆ¿å±‹ */</span>
    <span class="n">method</span> <span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>

    <span class="n">method</span> <span class="kt">void</span> <span class="nf">moveTo</span><span class="o">(</span><span class="kt">int</span> <span class="nc">Ax</span><span class="o">,</span> <span class="kt">int</span> <span class="nc">Ay</span><span class="o">)</span> <span class="o">{</span>
    	<span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="å¹¿å‘Š">å¹¿å‘Š</h3>

<center><img src="https://tva1.sinaimg.cn/large/00831rSTly1gd1u99ll6aj31j60qcx0l.jpg" width="800" /></center>
<center><figcaption><h2>å½“ç¾å›¢éª‘æ‰‹ï¼Œåšæœ‰ä¸ºé’å¹´</h2></figcaption></center>
:ET